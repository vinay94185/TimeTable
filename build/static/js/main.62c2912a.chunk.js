(this.webpackJsonptimetable=this.webpackJsonptimetable||[]).push([[0],{26:function(e,t,a){},29:function(e,t,a){e.exports=a.p+"static/media/logo.8d36c24d.png"},32:function(e,t,a){e.exports=a(49)},37:function(e,t,a){},39:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(27),c=a.n(r),s=(a(37),a(8)),i=a(16),o=a.n(i),u=a(21),m=(a(39),a(1)),d=a(2),h=a(4),p=a(3),f=a(6),b=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).componentDidMount=function(){window.jQuery((function(e){e(".sidebar-dropdown > a").click((function(){e(".sidebar-submenu").slideUp(200),e(this).parent().hasClass("active")?(e(".sidebar-dropdown").removeClass("active"),e(this).parent().removeClass("active")):(e(".sidebar-dropdown").removeClass("active"),e(this).next(".sidebar-submenu").slideDown(200),e(this).parent().addClass("active"))})),e("#close-sidebar").click((function(){e(".page-wrapper").removeClass("toggled")})),e("#show-sidebar").click((function(){e(".page-wrapper").addClass("toggled")}))}))},e}return Object(d.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"sidebar-menu"},l.a.createElement("ul",null,l.a.createElement("li",{className:"header-menu"},l.a.createElement("span",null,"General")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/"},l.a.createElement("i",{className:"fa fa-tachometer-alt"}),l.a.createElement("span",null,"Dashboard"))),l.a.createElement("li",{className:"sidebar-dropdown"},l.a.createElement("a",{href:void 0},l.a.createElement("i",{className:"fa fa-users"}),l.a.createElement("span",null,"Teachers & Departments")),l.a.createElement("div",{className:"sidebar-submenu"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(f.b,{to:"/addteacher"},"Add")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/editteacher"},"Edit")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/deleteteacher"},"Delete"))))),l.a.createElement("li",{className:"sidebar-dropdown"},l.a.createElement("a",{href:void 0},l.a.createElement("i",{className:"fa fa-book"}),l.a.createElement("span",null,"Subjects & Classes")),l.a.createElement("div",{className:"sidebar-submenu"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(f.b,{to:"/addsubject"},"Add")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/editsubject"},"Edit")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/deletesubject"},"Delete"))))),l.a.createElement("li",{className:"sidebar-dropdown"},l.a.createElement("a",{href:void 0},l.a.createElement("i",{className:"fa fa-table"}),l.a.createElement("span",null,"Time Table")),l.a.createElement("div",{className:"sidebar-submenu"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(f.b,{to:"/addtable"},"Add New")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/edittable"},"Edit")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/deletetable"},"Delete"))))),l.a.createElement("li",{className:"sidebar-dropdown"},l.a.createElement("a",{href:void 0},l.a.createElement("i",{className:"fa fa-download"}),l.a.createElement("span",null,"Export TimeTable")),l.a.createElement("div",{className:"sidebar-submenu"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(f.b,{to:"/exportall"},"Export All")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/exportone"},"Export One")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/exportcustom"},"Export Custom"))))),l.a.createElement("li",{className:"header-menu"},l.a.createElement("span",null,"Extra")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/labmanagement"},l.a.createElement("i",{className:"fa fa-flask"}),l.a.createElement("span",null,"Lab Management"))),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/changepass"},l.a.createElement("i",{className:"fa fa-key"}),l.a.createElement("span",null,"Change Password"))),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/logout"},l.a.createElement("i",{className:"fa fa-sign-out-alt"}),l.a.createElement("span",null,"Logout")))))}}]),a}(n.Component),E=function(e){var t=e.logo,a=e.title,n=e.subtitle,r=e.userType,c=e.status;return l.a.createElement("div",null,l.a.createElement("div",{className:"sidebar-brand"},l.a.createElement("a",{href:void 0},"Dashboard"),l.a.createElement("div",{id:"close-sidebar"},l.a.createElement("i",{className:"fas fa-times"}))),l.a.createElement("div",{className:"sidebar-header"},l.a.createElement("div",{className:"user-pic"},l.a.createElement("img",{className:"img-responsive img-rounded",src:t,alt:"User picture"})),l.a.createElement("div",{className:"user-info"},l.a.createElement("span",{className:"user-name"},a,l.a.createElement("strong",null,n)),l.a.createElement("span",{className:"user-role"},r),l.a.createElement("span",{className:"user-status"},l.a.createElement("i",{className:"fa fa-circle"}),l.a.createElement("span",null,c)))))},g=a(29),v=a.n(g),y=(a(45),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"page-wrapper chiller-theme toggled"},l.a.createElement("a",{id:"show-sidebar",className:"btn btn-sm btn-dark",href:void 0}," ",l.a.createElement("i",{className:"fas fa-bars"})),l.a.createElement("nav",{id:"sidebar",className:"sidebar-wrapper"},l.a.createElement("div",{className:"sidebar-content"},l.a.createElement(E,{logo:v.a,title:"SPN",subtitle:"College",userType:"Administrator",status:"Online"}),l.a.createElement(b,null))),l.a.createElement("main",{className:"page-content"},this.props.children))}}]),a}(n.Component));var j=function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement(f.b,{className:"navbar-brand pl-5",to:"/"}," TimeTable Management System "))},S=a(7),N=a(50);function C(e,t){if(void 0===e)throw new Error("tried to filter undefined");var a=[];for(var n in e){var l=t(e[n]);l&&a.push(l)}return a}var O=function(e){var t={position:"fixed",width:"100vw",height:"100vh",background:e.white?"#fafafa":"#fafafa55",zIndex:"9999",top:"0px",left:"0px"};return l.a.createElement("div",{style:t},l.a.createElement("span",{style:{display:"block",margin:"auto",position:"relative",top:"50%",left:"0",right:"0",transform:"translateY(-50%)",width:"max-content"}},l.a.createElement("div",{className:"spinner-border text-primary"})))};var w=function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),i=Object(s.a)(c,2),o=i[0],u=i[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),h=d[0],p=d[1],f=Object(n.useState)(!0),b=Object(s.a)(f,2),E=b[0],g=b[1];Object(n.useEffect)((function(){fetch("/api/get/classes_with_table.php").then((function(e){return e.json()})).then((function(e){u(e),e.length&&p(e[0].class),g(!1)})).catch((function(e){g(!1),alert("Error : "+e)}))}),[]),Object(n.useEffect)((function(){""!==h&&(g(!0),fetch("/api/get/table/classwise.php?class="+h).then((function(e){return e.json()})).then((function(e){r(e),g(!1)})).catch((function(e){g(!1),alert("Error : "+e)})))}),[h]);var v=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],y=0;void 0!==a.Monday&&v.forEach((function(e){a[e].forEach((function(e){e.period>y&&(y=e.period)}))}));for(var j=[],S=0;S<=y;++S)j.push(l.a.createElement("th",{key:"period-"+S,scope:"col"}," ",S," "));var w=C(o,(function(e){return l.a.createElement("option",{key:e.class}," ",e.class," ")})),k=v.map((function(e){return l.a.createElement("tr",{key:Object(N.a)()},l.a.createElement("th",{scope:"row thread-dark"},e),a[e]?function(e,t){for(var a=0,n=[],r=0;r<=t;++r)void 0===e[a]||e[a].period!=r?n.push(l.a.createElement("td",{key:Object(N.a)()}," ")):(n.push(l.a.createElement("td",{key:Object(N.a)()},e[a].subject," ",l.a.createElement("br",null)," ",e[a].teacher," ",l.a.createElement("br",null)," ",e[a].lab?e[a].lab:e[a].room)),e.length!=a+1&&a++);return n}(a[e],y):null)}));return l.a.createElement("div",null,E&&l.a.createElement(O,null),l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table table-hover table-bordered"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},l.a.createElement("select",{value:h,onChange:function(e){return p(e.target.value)}},l.a.createElement("option",null," _____ "),w)),h?j:null)),l.a.createElement("tbody",null,h?k:l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("center",null,"There is no data to display")))))))};var k=function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),i=Object(s.a)(c,2),o=i[0],u=i[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),h=d[0],p=d[1],f=Object(n.useState)(!0),b=Object(s.a)(f,2),E=b[0],g=b[1];Object(n.useEffect)((function(){fetch("/api/get/teachers.php").then((function(e){return e.json()})).then((function(e){u(e),e.length&&p(e[0].name),g(!1)})).catch((function(e){g(!1),alert("Error : "+e)}))}),[]),Object(n.useEffect)((function(){""!==h&&(g(!0),fetch("/api/get/table/teacherwise.php?teacher="+h).then((function(e){return e.json()})).then((function(e){r(e),g(!1)})).catch((function(e){g(!1),alert("Error : "+e)})))}),[h]);var v=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],y=0;void 0!==a.Monday&&v.forEach((function(e){a[e].forEach((function(e){e.period>y&&(y=e.period)}))}));for(var j=[],S=0;S<=y;++S)j.push(l.a.createElement("th",{key:"period-"+S,scope:"col"}," ",S," "));var w=C(o,(function(e){return l.a.createElement("option",{key:e.name}," ",e.name," ")})),k=v.map((function(e){return l.a.createElement("tr",{key:Object(N.a)()},l.a.createElement("th",{scope:"row thread-dark"},e),a[e]?function(e,t){for(var a=0,n=[],r=0;r<=t;++r)void 0===e[a]||e[a].period!=r?n.push(l.a.createElement("td",{key:Object(N.a)()}," ")):(n.push(l.a.createElement("td",{key:Object(N.a)()},e[a].subject," ",l.a.createElement("br",null)," ",e[a].class," ",l.a.createElement("br",null)," ",e[a].lab?e[a].lab:e[a].room)),e.length!=a+1&&a++);return n}(a[e],y):null)}));return l.a.createElement("div",null,E&&l.a.createElement(O,null),l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table table-hover table-bordered"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},l.a.createElement("select",{value:h,onChange:function(e){return p(e.target.value)}},l.a.createElement("option",null," _____ "),w)),h?j:null)),l.a.createElement("tbody",null,h?k:l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("center",null,"There is no data to display")))))))};var x=function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),i=Object(s.a)(c,2),o=i[0],u=i[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),h=d[0],p=d[1],f=Object(n.useState)(!0),b=Object(s.a)(f,2),E=b[0],g=b[1];Object(n.useEffect)((function(){fetch("/api/get/rooms.php").then((function(e){return e.json()})).then((function(e){u(e),e.length&&p(e[0].room),g(!1)})).catch((function(e){g(!1),alert("Error : "+e)}))}),[]),Object(n.useEffect)((function(){""!==h&&(g(!0),fetch("/api/get/table/roomwise.php?room="+h).then((function(e){return e.json()})).then((function(e){r(e),g(!1)})).catch((function(e){g(!1),alert("Error : "+e)})))}),[h]);var v=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],y=0;void 0!==a.Monday&&v.forEach((function(e){a[e].forEach((function(e){e.period>y&&(y=e.period)}))}));for(var j=[],S=0;S<=y;++S)j.push(l.a.createElement("th",{key:"period-"+S,scope:"col"}," ",S," "));var w=C(o,(function(e){return l.a.createElement("option",{key:e.room}," ",e.room," ")})),k=v.map((function(e){return l.a.createElement("tr",{key:Object(N.a)()},l.a.createElement("th",{scope:"row thread-dark"},e),a[e]?function(e,t){for(var a=0,n=[],r=0;r<=t;++r)void 0===e[a]||e[a].period!=r?n.push(l.a.createElement("td",{key:Object(N.a)()}," ")):(n.push(l.a.createElement("td",{key:Object(N.a)()},e[a].subject," ",l.a.createElement("br",null)," ",e[a].teacher," ",l.a.createElement("br",null)," ",e[a].lab?e[a].lab:e[a].room)),e.length!=a+1&&a++);return n}(a[e],y):null)}));return l.a.createElement("div",null,E&&l.a.createElement(O,null),l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table table-hover table-bordered"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},l.a.createElement("select",{value:h,onChange:function(e){return p(e.target.value)}},l.a.createElement("option",null," _____ "),w)),h?j:null)),l.a.createElement("tbody",null,h?k:l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("center",null,"There is no data to display")))))))};var L=function(){var e,t=Object(n.useState)("class"),a=Object(s.a)(t,2),r=a[0],c=a[1];switch(r){case"class":e=l.a.createElement(w,null);break;case"teacher":e=l.a.createElement(k,null);break;case"room":e=l.a.createElement(x,null);break;default:e=l.a.createElement(w,null)}return l.a.createElement("div",null,l.a.createElement("div",{className:"container",style:{marginTop:"41px"}},l.a.createElement("div",{className:"btn-group pull-right my-2",style:{float:"right"}},l.a.createElement("button",{type:"button",className:"btn btn-secondary dropdown-toggle","data-toggle":"dropdown","data-display":"static","aria-haspopup":"true","aria-expanded":"false"}," ",r," wise "),l.a.createElement("div",{className:"dropdown-menu dropdown-menu-lg-right"},l.a.createElement("button",{onClick:function(e){return c(e.target.value)},className:"dropdown-item",value:"teacher",type:"button"},"TEACHER WISE"),l.a.createElement("button",{onClick:function(e){return c(e.target.value)},className:"dropdown-item",value:"class",type:"button"},"CLASS WISE"),l.a.createElement("button",{onClick:function(e){return c(e.target.value)},className:"dropdown-item",value:"room",type:"button"},"ROOM WISE")))),l.a.createElement("div",{id:"table",className:"container"},e))},D=a(19),T=a(5),P=a(31);var A=function(e){var t=e.index,a=e.value,n=e.noBlank,r=e.list,c=e.changeHandler,s=e.placeholder,i=Object(P.a)(e,["index","value","noBlank","list","changeHandler","placeholder"]);return l.a.createElement("select",Object.assign({index:t},i,{onChange:c,value:a}),!0===n?null:l.a.createElement("option",null," -------- "),void 0===s?null:l.a.createElement("option",{value:"--------"}," ",s," "),r.map((function(e){return l.a.createElement("option",{key:t+e}," ",e," ")})))};var _=function(e){var t=e.onSubmit,a=e.title;return l.a.createElement("div",{className:"modal",id:"Modal",tabIndex:"-1",role:"dialog"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title"}," ",a," "),l.a.createElement("button",{id:"modal_close",type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("form",{onSubmit:t},l.a.createElement("div",{className:"form-group"},e.children),l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Submit"))))))};var M=function(e){return l.a.createElement("button",Object.assign({},e,{"data-toggle":"modal","data-target":"#Modal"})," ",e.children," ")},F=(a(26),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a),(e=t.call(this)).componentDidMount=function(){fetch("/api/get/classes_without_table.php").then((function(e){return e.json()})).then((function(t){if(!t.length)throw"No Classes in Database Please Add Classes from Add Teacher";e.setState({classList:t,currentClass:t[0].class,loading:!1})})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))},e.makeTableArray=function(){for(var t=[],a=0;a<=e.periods;++a)t.push({period:a,room:"",lab:null,dept:"",teacher:"",subject:"",uid:Object(N.a)()});return t},e.updateClass=function(t){e.setState({loading:!0}),fetch("/api/get/new_table_data.php?class="+t).then((function(e){return e.json()})).then((function(a){var n=C(a.subjects,(function(e){return e.subject})),l=C(a.labs,(function(e){return e.lab})),r=C(a.departments,(function(e){return e.dept}));e.setState({subjectList:n,labList:l,deptList:r,currentClass:t}),e.setState({loading:!1})}))},e.componentDidUpdate=function(t,a){e.state.currentClass!==a.currentClass&&e.updateClass(e.state.currentClass)},e.fillBlanks=function(t,a){for(var n=[],r=0;r<=a;++r)n.push(l.a.createElement("td",{className:e.selectedItems.includes(t[r].uid)?"selected":"",onClick:e.selectTableItem,uid:t[r].uid,key:t[r].uid},t[r].subject,l.a.createElement("br",null)," ",t[r].teacher," ",l.a.createElement("br",null),t[r].lab?t[r].lab:t[r].room));return n},e.selectTableItem=function(t){var a=t.target;if(a.classList.toggle("selected"))e.selectedItems.push(a.getAttribute("uid"));else{var n=a.getAttribute("uid");e.selectedItems=e.selectedItems.filter((function(e){return e!=n}))}},e.changeHandler=function(t){var a=t.target,n=a.name,l=a.value;"dept"===n&&(e.setState({loading:!0}),fetch("/api/get/teachers.php?dept="+l).then((function(e){return e.json()})).then((function(t){t=C(t,(function(e){return e.name})),e.setState({teacherList:t}),e.setState({loading:!1})}))),"lab"===n&&"--------"===l&&(l=""),e.setState(Object(T.a)({},n,l))},e.addItems=function(t){t.preventDefault();var a=Object(D.a)({},e.state.tableData);e.selectedItems.forEach((function(t){e.weekDays.forEach((function(n){a[n].forEach((function(a){a.uid===t&&(a.subject=e.state.subject,a.dept=e.state.dept,a.teacher=e.state.teacher,a.lab=e.state.lab,a.room=e.state.room)}))}))}));e.selectedItems=[],e.setState({subject:"",dept:"",teacher:"",lab:"",room:"",tableData:a}),document.getElementById("modal_close").click()},e.handle_submit=function(t){t.preventDefault(),e.setState({loading:!0}),fetch("/api/set/newtable.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e.state.tableData,class:e.state.currentClass})}).then((function(e){return e.text()})).then((function(t){e.setState({loading:!1}),alert(t)})).catch((function(t){e.setState({loading:!1}),alert("Error while sending data : \n"+t)}))},e.periods=9,e.weekDays=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var n={};return e.weekDays.forEach((function(t){n[t]=e.makeTableArray()})),e.selectedItems=[],e.state={subjectList:[],labList:[],deptList:[],teacherList:[],classList:[],currentClass:"",subject:"",dept:"",teacher:"",lab:"",room:"",tableData:n,loading:!0},e}return Object(d.a)(a,[{key:"render",value:function(){for(var e=this,t=C(this.state.classList,(function(e){return l.a.createElement("option",{key:e.class}," ",e.class," ")})),a=[],n=0;n<=this.periods;++n)a.push(l.a.createElement("th",{key:"period-"+n,scope:"col"}," ",n," "));var r=this.weekDays.map((function(t){return l.a.createElement("tr",{key:Object(N.a)()},l.a.createElement("th",{scope:"row thread-dark"},t),e.state.tableData[t]?e.fillBlanks(e.state.tableData[t],e.periods):null)}));return l.a.createElement("div",{className:"container-fluid my-table"},this.state.loading&&l.a.createElement(O,null),l.a.createElement(_,{title:"Set Values",onSubmit:this.addItems},l.a.createElement(A,{noBlank:!0,placeholder:"Subject",className:"form-control",name:"subject",changeHandler:this.changeHandler,value:this.state.subject,list:this.state.subjectList}),l.a.createElement(A,{noBlank:!0,placeholder:"Dept",className:"form-control",name:"dept",changeHandler:this.changeHandler,value:this.state.dept,list:this.state.deptList}),l.a.createElement(A,{noBlank:!0,placeholder:"Teacher",className:"form-control",name:"teacher",changeHandler:this.changeHandler,value:this.state.teacher,list:this.state.teacherList}),l.a.createElement("input",{disabled:""!==this.state.lab,name:"room",value:this.state.room,onChange:this.changeHandler,className:"form-control",placeholder:"room"}),l.a.createElement(A,{noBlank:!0,placeholder:"Lab",className:"form-control",name:"lab",changeHandler:this.changeHandler,value:this.state.lab,list:this.state.labList})),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 mx-auto my-5"},l.a.createElement("h4",{className:"display-4 text-center"}," Add TimeTable "))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"table-responsive clickhover"},l.a.createElement("table",{className:"table table-bordered"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},l.a.createElement("select",{value:this.state.currentClass,onChange:function(t){e.setState({currentClass:t.target.value})}},l.a.createElement("option",null," "),t)),a)),l.a.createElement("tbody",null,r)))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-5 ml-auto mt-5"},l.a.createElement(M,{style:{marginRight:"20px"},onClick:this.setValues,type:"button",className:"btn btn-danger"}," Set Value "),l.a.createElement("button",{onClick:this.handle_submit,type:"button",className:"btn btn-danger"},"Submit TimeTable")))))}}]),a}(n.Component)),H=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a),(e=t.call(this)).componentDidMount=function(){fetch("/api/get/classes_with_table.php").then((function(e){return e.json()})).then((function(t){t.length&&e.setState({classList:t,currentClass:t[0].class,loading:!1})}))},e.makeTableArray=function(){for(var t=[],a=0;a<=e.periods;++a)t.push({period:a,room:"",lab:null,dept:"",teacher:"",subject:"",uid:Object(N.a)()});return t},e.pushTableArray=function(t,a){var n=[],l=0;if(0===a.length)return e.makeTableArray();for(var r=0;r<=e.periods;++r)a[l].period==r?(n.push({period:r,room:a[l].room,lab:a[l].lab,dept:a[l].dept,teacher:a[l].teacher,subject:a[l].subject,uid:t[r].uid}),a.length!=l+1&&l++):n.push({period:r,room:"",lab:null,dept:"",teacher:"",subject:"",uid:t[r].uid});return n},e.updateClass=function(t){e.setState({loading:!0}),fetch("/api/get/new_table_data.php?class="+t).then((function(e){return e.json()})).then((function(a){var n=C(a.subjects,(function(e){return e.subject})),l=C(a.labs,(function(e){return e.lab})),r=C(a.departments,(function(e){return e.dept}));e.setState({subjectList:n,labList:l,deptList:r,currentClass:t}),fetch("/api/get/table/classwise.php?class="+t).then((function(e){return e.json()})).then((function(t){var a={};e.weekDays.forEach((function(n){a[n]=e.pushTableArray(e.state.tableData[n],t[n])})),e.setState({tableData:a,loading:!1})})).catch((function(t){alert("Error : "+t),e.setState({loading:!1})}))})).catch((function(t){alert("Error : "+t),e.setState({loading:!1})}))},e.componentDidUpdate=function(t,a){e.state.currentClass!==a.currentClass&&e.updateClass(e.state.currentClass)},e.fillBlanks=function(t,a){for(var n=[],r=0;r<=a;++r)n.push(l.a.createElement("td",{className:e.selectedItems.includes(t[r].uid)?"selected":"",onClick:e.selectTableItem,uid:t[r].uid,key:t[r].uid},t[r].subject,l.a.createElement("br",null)," ",t[r].teacher," ",l.a.createElement("br",null),t[r].lab?t[r].lab:t[r].room));return n},e.selectTableItem=function(t){var a=t.target;if(a.classList.toggle("selected"))e.selectedItems.push(a.getAttribute("uid"));else{var n=a.getAttribute("uid");e.selectedItems=e.selectedItems.filter((function(e){return e!=n}))}},e.changeHandler=function(t){var a=t.target,n=a.name,l=a.value;"dept"===n&&(e.setState({loading:!0}),fetch("/api/get/teachers.php?dept="+l).then((function(e){return e.json()})).then((function(t){t=C(t,(function(e){return e.name})),e.setState({teacherList:t,loading:!1})}))),"lab"===n&&"--------"===l&&(l=""),e.setState(Object(T.a)({},n,l))},e.addItems=function(t){t.preventDefault();var a=Object(D.a)({},e.state.tableData);e.selectedItems.forEach((function(t){e.weekDays.forEach((function(n){a[n].forEach((function(a){a.uid===t&&(a.subject=e.state.subject,a.dept=e.state.dept,a.teacher=e.state.teacher,a.lab=e.state.lab,a.room=e.state.room)}))}))}));e.selectedItems=[],e.setState({subject:"",dept:"",teacher:"",lab:"",room:"",tableData:a}),document.getElementById("modal_close").click()},e.handle_submit=function(t){t.preventDefault(),e.setState({loading:!0}),fetch("/api/update/table.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e.state.tableData,class:e.state.currentClass})}).then((function(e){return e.text()})).then((function(t){alert(t),e.setState({loading:!1})})).catch((function(t){alert("Error while sending data : \n"+t),e.setState({loading:!1})}))},e.periods=9,e.weekDays=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var n={};return e.weekDays.forEach((function(t){n[t]=e.makeTableArray()})),e.selectedItems=[],e.state={subjectList:[],labList:[],deptList:[],teacherList:[],classList:[],currentClass:"",subject:"",dept:"",teacher:"",lab:"",room:"",tableData:n,loading:!0},e}return Object(d.a)(a,[{key:"render",value:function(){for(var e=this,t=C(this.state.classList,(function(e){return l.a.createElement("option",{key:e.class}," ",e.class," ")})),a=[],n=0;n<=this.periods;++n)a.push(l.a.createElement("th",{key:"period-"+n,scope:"col"}," ",n," "));var r=this.weekDays.map((function(t){return l.a.createElement("tr",{key:Object(N.a)()},l.a.createElement("th",{scope:"row thread-dark"},t),e.state.tableData[t]?e.fillBlanks(e.state.tableData[t],e.periods):null)}));return l.a.createElement("div",{className:"container-fluid my-table"},this.state.loading&&l.a.createElement(O,null),l.a.createElement(_,{title:"Set Values",onSubmit:this.addItems},l.a.createElement(A,{noBlank:!0,placeholder:"Subject",className:"form-control",name:"subject",changeHandler:this.changeHandler,value:this.state.subject,list:this.state.subjectList}),l.a.createElement(A,{noBlank:!0,placeholder:"Dept",className:"form-control",name:"dept",changeHandler:this.changeHandler,value:this.state.dept,list:this.state.deptList}),l.a.createElement(A,{noBlank:!0,placeholder:"Teacher",className:"form-control",name:"teacher",changeHandler:this.changeHandler,value:this.state.teacher,list:this.state.teacherList}),l.a.createElement("input",{disabled:""!==this.state.lab,name:"room",value:this.state.room,onChange:this.changeHandler,className:"form-control",placeholder:"room"}),l.a.createElement(A,{noBlank:!0,placeholder:"Lab",className:"form-control",name:"lab",changeHandler:this.changeHandler,value:this.state.lab,list:this.state.labList})),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 mx-auto my-5"},l.a.createElement("h4",{className:"display-4 text-center"}," Edit TimeTable "))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"table-responsive clickhover"},l.a.createElement("table",{className:"table table-bordered"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},l.a.createElement("select",{value:this.state.currentClass,onChange:function(t){e.setState({currentClass:t.target.value})}},l.a.createElement("option",null," "),t)),a)),l.a.createElement("tbody",null,r)))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-5 ml-auto mt-5"},l.a.createElement(M,{style:{marginRight:"20px"},onClick:this.setValues,type:"button",className:"btn btn-danger"}," Set Value "),l.a.createElement("button",{onClick:this.handle_submit,type:"button",className:"btn btn-danger"},"Submit TimeTable")))))}}]),a}(n.Component),I=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).prev=function(){1!==n.state.currentPage&&n.setState((function(e){return{currentPage:e.currentPage-1}}))},n.next=function(){n.state.currentPage!==n.state.max&&n.setState((function(e){return{currentPage:e.currentPage+1}}))},n.setPage=function(e){n.setState({currentPage:e})},n.state={currentPage:1,max:1},n}return Object(d.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.maxPages!==this.props.maxPages&&0!=e.maxPages&&this.setState({max:e.maxPages})}},{key:"componentDidUpdate",value:function(e,t){this.state.currentPage!==t.currentPage&&this.props.setParentPage(this.state.currentPage)}},{key:"render",value:function(){for(var e=[],t=1;t<=this.state.max;++t)e.push(l.a.createElement("li",{onClick:this.setPage.bind(this,t),className:"page-item ".concat(t===this.state.currentPage?"active":null)},l.a.createElement("a",{className:"page-link",href:"#"},t)));return l.a.createElement("nav",{style:{width:"max-content",margin:"auto"},"aria-label":"Page navigation example"},l.a.createElement("ul",{className:"pagination"},l.a.createElement("li",{className:"page-item",onClick:this.prev},l.a.createElement("a",{className:"page-link","aria-label":"Previous"},l.a.createElement("span",{"aria-hidden":"true"},"\xab"),l.a.createElement("span",{className:"sr-only"},"Previous"))),e,l.a.createElement("li",{className:"page-item",onClick:this.next},l.a.createElement("a",{className:"page-link","aria-label":"Next"},l.a.createElement("span",{"aria-hidden":"true"},"\xbb"),l.a.createElement("span",{className:"sr-only"},"Next")))))}}]),a}(n.Component),B=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={currentPage:0,max:0,children:[]},n}return Object(d.a)(a,[{key:"componentWillReceiveProps",value:function(e){if(this.props.children!==e.children){var t=l.a.Children.count(e.children);this.setState({currentPage:1,max:Math.ceil(t/e.perPage)})}}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(t.currentPage!==this.state.currentPage||this.props.children!==e.children){this.setState({children:l.a.Children.toArray(this.props.children).filter((function(e,t){var n=a.props.perPage*a.state.currentPage;if(t>=n-a.props.perPage&&t<n)return!0}))})}}},{key:"render",value:function(){var e=this;return l.a.createElement("table",{className:"table table-bordered table-striped table-hover"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"}," ",this.props.name,"  "),void 0===this.props.action?l.a.createElement("th",{className:"d-flex",scope:"col"},"Action"):this.props.action)),l.a.createElement("tbody",null,this.state.children,this.props.lastRow,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement(I,{setParentPage:function(t){e.setState({currentPage:t})},maxPages:this.state.max})))))}}]),a}(n.Component),R=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).setTableList=function(t){e.setState({tableList:t})},e.init=function(){fetch("/api/get/classes_with_table.php").then((function(e){return e.json()})).then((function(t){e.setTableList(t),e.setState({loading:!1})}))},e.componentDidMount=function(){e.init()},e.deleteTable=function(t){e.setState({loading:!0}),fetch("/api/delete/table.php?class="+t).then((function(e){return e.text()})).then((function(t){alert(t),e.setState({loading:!1}),e.init()})).catch((function(e){return alert("Failed to Delete \n"+e)}))},e.deleteAll=function(){e.setState({loading:!0}),fetch("/api/delete/table.php").then((function(e){return e.text()})).then((function(t){alert(t),e.setState({loading:!1}),e.init()})).catch((function(e){return alert("Failed to Delete \n"+e)}))},e.state={tableList:[],loading:!0},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=C(this.state.tableList,(function(t){return l.a.createElement("tr",{key:t.class},l.a.createElement("td",null,t.class),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){e.deleteTable(t.class)},type:"button",className:"btn btn-danger"},"Delete")))}));return l.a.createElement("div",{className:"container-fluid"},this.state.loading&&l.a.createElement(O,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 mx-auto my-5"},l.a.createElement("h4",{className:"display-4 text-center"},"Delete Time Table "))),l.a.createElement("div",{className:"row"},l.a.createElement(B,{name:"Class",perPage:"5",lastRow:l.a.createElement("tr",null,l.a.createElement("td",null," All Classes "),l.a.createElement("td",null,l.a.createElement("button",{onClick:this.deleteAll,className:"btn btn-danger"},"Delete All")))},t))))}}]),a}(n.Component),U=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).setDeptList=function(t){e.setState({deptList:t})},e.componentDidMount=function(){fetch("/api/get/departments.php").then((function(e){return e.json()})).then((function(t){e.setDeptList(t),t.length&&e.setState({dept:t[0].dept}),e.setState({loading:!1})}))},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(T.a)({},n,l))},e.handleSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a={teacher:e.state.teacher,dept:e.state.dept};fetch("/api/set/newteacher.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(t){e.setState({loading:!1}),alert(t)})).catch((function(t){e.setState({loading:!1}),alert("Failed to Add New Teacher : \n"+t)}))},e.handleModalSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a={department:e.state.department};fetch("/api/set/newdepartment.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(t){document.getElementById("modal_close").click(),alert(t),fetch("/api/get/departments.php").then((function(e){return e.json()})).then((function(t){e.setDeptList(t),e.setState({dept:t[0].dept}),e.setState({loading:!1})}))})).catch((function(t){e.setState({loading:!1}),alert("Failed to Add New Department : \n"+t)}))},e.state={teacher:"",dept:"",department:"",deptList:[],loading:!0},e}return Object(d.a)(a,[{key:"render",value:function(){var e=C(this.state.deptList,(function(e){return l.a.createElement("option",{key:e.dept}," ",e.dept," ")}));return l.a.createElement("div",null,this.state.loading&&l.a.createElement(O,null),l.a.createElement(_,{title:"Add Teacher",onSubmit:this.handleModalSubmit},l.a.createElement("label",{htmlFor:"department"},"Department Name : "),l.a.createElement("input",{onChange:this.handleChange,value:this.state.department,name:"department",type:"text",className:"form-control",id:"department",placeholder:"Department Name"})),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"container my-5 px-5"},l.a.createElement("h1",{className:"display-4 text-center"},"Add Teacher"),l.a.createElement("form",{onSubmit:this.handleSubmit,className:"px-5",method:"POST"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"teacher"}," Teacher Name "),l.a.createElement("input",{onChange:this.handleChange,value:this.state.teacher,type:"text",className:"form-control",id:"teacher",name:"teacher",placeholder:"Alex",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"dept"}," Department "),l.a.createElement("div",{className:"d-flex"},l.a.createElement("select",{onChange:this.handleChange,value:this.state.dept,className:"form-control",name:"dept",id:"dept",required:!0},e),l.a.createElement(M,{type:"button",className:"btn btn-dark",style:{width:"12rem",marginLeft:"20px"}}," Add Department "))),l.a.createElement("input",{className:"btn btn-danger btn-block",type:"submit",value:"Add Teacher"})))))}}]),a}(n.Component),W=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).setDeptList=function(t){e.setState({deptList:t})},e.componentDidMount=function(){fetch("/api/get/departments.php").then((function(e){return e.json()})).then((function(t){e.setDeptList(t),e.setState({department:t[0].dept}),fetch("/api/get/teachers.php?dept="+t[0].dept).then((function(e){return e.json()})).then((function(t){e.setState({loading:!1,teacherList:t})})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))}))},e.handleChange=function(t){e.setState({loading:!0});var a=t.target,n=a.name,l=a.value,r=!0;"department"===n&&(r=!1,fetch("/api/get/teachers.php?dept="+l).then((function(e){return e.json()})).then((function(t){e.setState({teacherList:t,loading:!1})})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)})),e.setState({updateDepartment:l})),e.setState(Object(T.a)({},n,l)),r&&e.setState({loading:!1})},e.handleModalSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a={department:e.state.updateDepartment,prevdept:e.state.department};fetch("/api/update/department.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(t){alert(t),fetch("/api/get/departments.php").then((function(e){return e.json()})).then((function(t){e.setDeptList(t),e.setState((function(e){return{department:e.updateDepartment}})),document.getElementById("modal_close").click(),e.setState({loading:!1})})).catch((function(t){e.setState({loading:!0}),alert("Error : "+t)}))})).catch((function(t){e.setState({loading:!1}),alert("Failed to Update Department : \n"+t)}))},e.state={teacher:"",dept:"",department:"",updateDepartment:"",deptList:[],teacherList:[],loading:!0},e}return Object(d.a)(a,[{key:"render",value:function(){var e=C(this.state.deptList,(function(e){return l.a.createElement("option",{key:e.dept}," ",e.dept," ")})),t=C(this.state.teacherList,(function(e){return l.a.createElement("tr",{key:"teacher:"+e.name},l.a.createElement("td",null,e.name),l.a.createElement("td",null,l.a.createElement(f.b,{to:"/updateteacher/"+e.id},l.a.createElement("button",{type:"button",className:"btn btn-primary"},"Edit Teacher"))))}));return l.a.createElement("div",null,this.state.loading&&l.a.createElement(O,null),l.a.createElement(_,{title:"Edit Department",onSubmit:this.handleModalSubmit},l.a.createElement("label",{htmlFor:"department"},"Department Name : "),l.a.createElement("input",{onChange:this.handleChange,value:this.state.updateDepartment,name:"updateDepartment",type:"text",className:"form-control",id:"department",placeholder:"Department Name"})),l.a.createElement("div",{className:"row"},l.a.createElement(B,{name:"Teacher",perPage:"5",action:l.a.createElement("th",{className:"d-flex",scope:"col"},l.a.createElement("form",{method:"get",className:"mr-3 mb-0"},l.a.createElement("span",null," Dept  "),l.a.createElement("select",{value:this.state.department,className:"h-100 ml-3",name:"department",onChange:this.handleChange},e)),l.a.createElement("input",{type:"hidden",name:"deldpt",value:this.state.dept}),l.a.createElement(M,{type:"submit",className:"btn btn-primary"},"Edit Selected Department"))},t)))}}]),a}(n.Component),J=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).setDeptList=function(e){n.setState({deptList:e})},n.componentDidMount=function(){fetch("/api/get/departments.php").then((function(e){return e.json()})).then((function(e){n.setDeptList(e),fetch("/api/get/teachers.php?id="+n.state.id).then((function(e){return e.json()})).then((function(e){n.setState({teacher:e[0].name,dept:e[0].dept,loading:!1})})).catch((function(e){n.setState({loading:!1}),alert("Error : "+e)}))})).catch((function(e){n.setState({loading:!1}),alert("Error : "+e)}))},n.handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(T.a)({},a,l))},n.handleSubmit=function(e){e.preventDefault(),n.setState({loading:!0});var t={id:n.state.id,teacher:n.state.teacher,dept:n.state.dept};fetch("/api/update/teacher.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.text()})).then((function(e){n.setState({loading:!1}),alert(e)})).catch((function(e){n.setState({loading:!1}),alert("Failed to Update Teacher : \n"+e)}))},n.handleModalSubmit=function(e){e.preventDefault(),n.setState({loading:!0});var t={department:n.state.department};fetch("/api/set/newdepartment.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.text()})).then((function(e){document.getElementById("modal_close").click(),alert(e),fetch("/api/get/departments.php").then((function(e){return e.json()})).then((function(e){n.setDeptList(e),n.setState({loading:!1})})).catch((function(e){n.setState({loading:!1}),alert("Error : "+e)}))})).catch((function(e){n.setState({loading:!1}),alert("Failed to Add new Department : \n"+e)}))},n.state={id:e.match.params.id,teacher:"",dept:"",department:"",deptList:[],loading:!0},n}return Object(d.a)(a,[{key:"render",value:function(){var e=C(this.state.deptList,(function(e){return l.a.createElement("option",{key:e.dept}," ",e.dept," ")}));return l.a.createElement("div",null,this.state.loading&&l.a.createElement(O,null),l.a.createElement(_,{title:"Add Department",onSubmit:this.handleModalSubmit},l.a.createElement("label",{htmlFor:"department"},"Department Name : "),l.a.createElement("input",{onChange:this.handleChange,value:this.state.department,name:"department",type:"text",className:"form-control",id:"department",placeholder:"Department Name"})),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"container my-5 px-5"},l.a.createElement("h1",{className:"display-4 text-center"},"Update Teacher"),l.a.createElement("form",{onSubmit:this.handleSubmit,className:"px-5",method:"POST"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"teacher"}," Teacher Name "),l.a.createElement("input",{onChange:this.handleChange,value:this.state.teacher,type:"text",className:"form-control",id:"teacher",name:"teacher",placeholder:"Alex",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"dept"}," Department "),l.a.createElement("div",{className:"d-flex"},l.a.createElement("select",{onChange:this.handleChange,value:this.state.dept,className:"form-control",name:"dept",id:"dept",required:!0},e),l.a.createElement(M,{type:"button",className:"btn btn-dark",style:{width:"12rem",marginLeft:"20px"}}," Add Department "))),l.a.createElement("input",{className:"btn btn-danger btn-block",type:"submit",value:"Update Teacher"})))))}}]),a}(n.Component),V=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).setDeptList=function(t){e.setState({deptList:t})},e.init=function(){fetch("/api/get/departments.php").then((function(e){return e.json()})).then((function(t){e.setDeptList(t),e.setState({department:t[0].dept}),fetch("/api/get/teachers.php?dept="+t[0].dept).then((function(e){return e.json()})).then((function(t){e.setState({teacherList:t,loading:!1})})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))},e.componentDidMount=function(){e.init()},e.handleChange=function(t){e.setState({loading:!0});var a=t.target,n=a.name,l=a.value,r=!0;"department"===n&&(r=!1,fetch("/api/get/teachers.php?dept="+l).then((function(e){return e.json()})).then((function(t){e.setState({teacherList:t,loading:!1})}))),e.setState(Object(T.a)({},n,l)),r&&e.setState({loading:!1})},e.handleSubmit=function(e){e.preventDefault()},e.deleteSelectedDepartment=function(){e.setState({loading:!0}),fetch("/api/delete/department.php?dept="+e.state.department).then((function(e){return e.text()})).then((function(t){alert(t),e.init()})).catch((function(t){e.setState({loading:!1}),alert("Failed to Delete \n"+t)}))},e.deleteTeacher=function(t){e.setState({loading:!0}),fetch("/api/delete/teacher.php?id="+t).then((function(e){return e.text()})).then((function(t){alert(t),fetch("/api/get/teachers.php?dept="+e.state.department).then((function(e){return e.json()})).then((function(t){e.setState({teacherList:t,loading:!1})}))})).catch((function(t){e.setState({loading:!1}),alert("Failed to Delete \n"+t)}))},e.deleteAllTeacher=function(){e.setState({loading:!1}),fetch("/api/delete/teacher.php?dept="+e.state.department).then((function(e){return e.text()})).then((function(t){alert(t),fetch("/api/get/teachers.php?dept="+e.state.department).then((function(e){return e.json()})).then((function(t){e.setState({teacherList:t,loading:!1})})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))})).catch((function(t){e.setState({loading:!1}),alert("Failed to Delete \n"+t)}))},e.state={department:"",deptList:[],teacherList:[],loading:!0},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=C(this.state.deptList,(function(e){return l.a.createElement("option",{key:e.dept}," ",e.dept," ")})),a=C(this.state.teacherList,(function(t){return l.a.createElement("tr",{key:"teacher:"+t.name},l.a.createElement("td",null,t.name),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){e.deleteTeacher(t.id)},type:"button",className:"btn btn-danger"},"Delete Teacher")))}));return l.a.createElement("div",{className:"container-fluid"},this.state.loading&&l.a.createElement(O,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 mx-auto my-5"},l.a.createElement("h4",{className:"display-4 text-center"},"Delete Teacher "))),l.a.createElement("div",{className:"row"},l.a.createElement(B,{name:"Teacher",perPage:"5",action:l.a.createElement("th",{className:"d-flex",scope:"col"},l.a.createElement("div",{className:"mr-3 mb-0"},l.a.createElement("span",null," Dept  "),l.a.createElement("select",{className:"h-100 ml-3",name:"department",value:this.state.department,onChange:this.handleChange},t)),l.a.createElement("div",{className:"mb-0"},l.a.createElement("button",{onClick:this.deleteSelectedDepartment,className:"btn btn-danger"},"Delete Selected Department"))),lastRow:l.a.createElement("tr",null,l.a.createElement("td",null," All Teachers "),l.a.createElement("td",null,l.a.createElement("button",{onClick:this.deleteAllTeacher,className:"btn btn-danger"},"Delete All Teachers")))},a))))}}]),a}(n.Component),q=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).setClassList=function(t){e.setState({classList:t,class:t[0].class})},e.setDeptList=function(t){e.setState({deptList:t,department:t[0].dept})},e.componentDidMount=function(){fetch("/api/get/departments.php").then((function(e){return e.json()})).then((function(t){e.setDeptList(t),fetch("/api/get/classes.php").then((function(e){return e.json()})).then((function(t){if(!t.length)throw"Please Add an Class Before Performing any action";e.setClassList(t),e.setState({loading:!1})})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(T.a)({},n,l))},e.handleSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a={subject:e.state.subject,class:e.state.class};fetch("/api/set/newsubject.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(t){e.setState({loading:!1}),alert(t)})).catch((function(t){e.setState({loading:!1}),alert("Failed to Add New Subject : \n"+t)}))},e.handleModalSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a={dept:e.state.department,className:e.state.className};fetch("/api/set/newclass.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(t){document.getElementById("modal_close").click(),alert(t),fetch("/api/get/classes.php").then((function(e){return e.json()})).then((function(t){e.setClassList(t),e.setState({loading:!1})}))})).catch((function(t){e.setState({loading:!1}),alert("Failed to Add New Class : \n"+t)}))},e.state={teacher:"",class:"",subject:"",className:"",department:"",classList:[],deptList:[],loading:!0},e}return Object(d.a)(a,[{key:"render",value:function(){var e=C(this.state.deptList,(function(e){return l.a.createElement("option",{key:e.dept}," ",e.dept," ")})),t=C(this.state.classList,(function(e){return l.a.createElement("option",{key:e.class}," ",e.class," ")}));return l.a.createElement("div",null,this.state.loading&&l.a.createElement(O,null),l.a.createElement(_,{title:"Add Class",onSubmit:this.handleModalSubmit},l.a.createElement("label",{htmlFor:"dept"},"Department Name : "),l.a.createElement("select",{onChange:this.handleChange,value:this.state.department,className:"form-control",name:"department",id:"department",required:!0},e),l.a.createElement("label",{htmlFor:"class"},"Class Name : "),l.a.createElement("input",{onChange:this.handleChange,value:this.state.className,name:"className",type:"text",className:"form-control",id:"className",placeholder:"Class Name"})),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"container my-5 px-5"},l.a.createElement("h1",{className:"display-4 text-center"},"Add Subject"),l.a.createElement("form",{onSubmit:this.handleSubmit,className:"px-5",method:"POST"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"class"}," Class "),l.a.createElement("div",{className:"d-flex"},l.a.createElement("select",{onChange:this.handleChange,value:this.state.class,className:"form-control",name:"class",id:"class",required:!0},t),l.a.createElement(M,{type:"button",className:"btn btn-primary",style:{width:"12rem",marginLeft:"20px"}}," Add Class "))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"subject"}," Subject Name "),l.a.createElement("input",{onChange:this.handleChange,value:this.state.subject,type:"text",className:"form-control",id:"subject",name:"subject",placeholder:"English",required:!0})),l.a.createElement("input",{className:"btn btn-danger btn-block",type:"submit",value:"Add Subject"})))))}}]),a}(n.Component),z=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).setClassList=function(t){e.setState({classList:t})},e.setdeptList=function(t){e.setState({deptList:t})},e.componentDidMount=function(){fetch("/api/get/departments.php").then((function(e){return e.json()})).then((function(t){e.setdeptList(t),fetch("/api/get/classes.php").then((function(e){return e.json()})).then((function(t){if(e.setClassList(t),!t.length)throw"There are no classes to Edit";e.setState({className:t[0].class}),e.setState({department:t[0].dept}),e.setState({updateClass:t[0].class}),fetch("/api/get/subjects.php?class="+t[0].class).then((function(e){return e.json()})).then((function(t){e.setState({subjectList:t,loading:!1})})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;if("className"===n){e.setState({loading:!0}),fetch("/api/get/subjects.php?class="+l).then((function(e){return e.json()})).then((function(t){e.setState({subjectList:t,loading:!1})})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)})),e.setState({updateClass:l});for(var r=0;r<e.state.classList.length;++r)e.state.classList[r].class===l&&e.setState({department:e.state.classList[r].dept})}e.setState(Object(T.a)({},n,l))},e.handleModalSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a={department:e.state.department,class:e.state.updateClass,prevclass:e.state.className};fetch("/api/update/class.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(t){alert(t),fetch("/api/get/classes.php").then((function(e){return e.json()})).then((function(t){e.setClassList(t),e.setState((function(e){return{className:e.updateClass,loading:!1}})),document.getElementById("modal_close").click()})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))})).catch((function(t){e.setState({loading:!1}),alert("Failed to Update Class : \n"+t)}))},e.state={subject:"",class:"",department:"",className:"",updateClass:"",classList:[],subjectList:[],deptList:[],loading:!0},e}return Object(d.a)(a,[{key:"render",value:function(){var e=C(this.state.deptList,(function(e){return l.a.createElement("option",{key:e.dept}," ",e.dept," ")})),t=C(this.state.classList,(function(e){return l.a.createElement("option",{key:"option"+e.class}," ",e.class," ")})),a=C(this.state.subjectList,(function(e){return l.a.createElement("tr",{key:"subject:"+e.subject},l.a.createElement("td",null,e.subject),l.a.createElement("td",null,l.a.createElement(f.b,{to:"/updateSubject/"+e.id},l.a.createElement("button",{type:"button",className:"btn btn-primary"},"Edit Subject"))))}));return l.a.createElement("div",null,this.state.loading&&l.a.createElement(O,null),l.a.createElement(_,{title:"Edit Subject",onSubmit:this.handleModalSubmit},l.a.createElement("label",{htmlFor:"dept"},"Department Name : "),l.a.createElement("select",{onChange:this.handleChange,value:this.state.department,className:"form-control",name:"department",id:"department",required:!0},e),l.a.createElement("label",{htmlFor:"class"},"Class Name : "),l.a.createElement("input",{onChange:this.handleChange,value:this.state.updateClass,name:"updateClass",type:"text",className:"form-control",id:"updateClass",placeholder:"Class Name"})),l.a.createElement("div",{className:"row"},l.a.createElement(B,{name:"Subject",perPage:"5",action:l.a.createElement("th",{className:"d-flex",scope:"col"},l.a.createElement("form",{method:"get",className:"mr-3 mb-0"},l.a.createElement("span",null," Class  "),l.a.createElement("select",{value:this.state.className,className:"h-100 ml-3",name:"className",onChange:this.handleChange},t)),l.a.createElement("input",{type:"hidden",name:"deldpt",value:this.state.dept}),l.a.createElement(M,{type:"submit",className:"btn btn-primary"},"Edit Selected Class"))},a)))}}]),a}(n.Component),$=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).setClassList=function(t){e.setState({classList:t})},e.setDeptList=function(t){e.setState({deptList:t})},e.componentDidMount=function(){fetch("/api/get/subjects.php?id="+e.props.match.params.id).then((function(e){return e.json()})).then((function(t){e.setState({id:e.props.match.params.id,class:t[0].class,subject:t[0].subject}),fetch("/api/get/departments.php").then((function(e){return e.json()})).then((function(t){e.setDeptList(t),fetch("/api/get/classes.php").then((function(e){return e.json()})).then((function(t){e.setClassList(t),e.setState({loading:!1})})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(T.a)({},n,l))},e.handleSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a={id:e.state.id,subject:e.state.subject,class:e.state.class};fetch("/api/update/subject.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(t){e.setState({loading:!1}),alert(t)})).catch((function(t){e.setState({loading:!1}),alert("Failed to Update Subject : \n"+t)}))},e.handleModalSubmit=function(t){t.preventDefault();var a={dept:e.state.department,className:e.state.className};fetch("/api/set/newclass.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(t){document.getElementById("modal_close").click(),alert(t),fetch("/api/get/classes.php").then((function(e){return e.json()})).then((function(t){e.setClassList(t)}))})).catch((function(e){return alert("Failed to Update Class : \n"+e)}))},e.state={id:"",teacher:"",class:"",subject:"",className:"",department:"",classList:[],deptList:[],loading:!0},e}return Object(d.a)(a,[{key:"render",value:function(){var e=C(this.state.deptList,(function(e){return l.a.createElement("option",{key:e.dept}," ",e.dept," ")})),t=C(this.state.classList,(function(e){return l.a.createElement("option",{key:e.class}," ",e.class," ")}));return l.a.createElement("div",null,this.state.loading&&l.a.createElement(O,null),l.a.createElement(_,{title:"Add Subject",onSubmit:this.handleModalSubmit},l.a.createElement("label",{htmlFor:"dept"},"Department Name : "),l.a.createElement("select",{onChange:this.handleChange,value:this.state.department,className:"form-control",name:"department",id:"department",required:!0},e),l.a.createElement("label",{htmlFor:"class"},"Class Name : "),l.a.createElement("input",{onChange:this.handleChange,value:this.state.className,name:"className",type:"text",className:"form-control",id:"className",placeholder:"Class Name"})),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"container my-5 px-5"},l.a.createElement("h1",{className:"display-4 text-center"},"Update Subject"),l.a.createElement("form",{onSubmit:this.handleSubmit,className:"px-5",method:"POST"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"class"}," Class "),l.a.createElement("div",{className:"d-flex"},l.a.createElement("select",{onChange:this.handleChange,value:this.state.class,className:"form-control",name:"class",id:"class",required:!0},t),l.a.createElement(M,{type:"button",className:"btn btn-primary",style:{width:"12rem",marginLeft:"20px"}}," Add Class "))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"subject"}," Subject Name "),l.a.createElement("input",{onChange:this.handleChange,value:this.state.subject,type:"text",className:"form-control",id:"subject",name:"subject",placeholder:"English",required:!0})),l.a.createElement("input",{className:"btn btn-danger btn-block",type:"submit",value:"Update Subject"})))))}}]),a}(n.Component),G=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).setClassList=function(t){e.setState({classList:t,class:t[0].class})},e.init=function(){fetch("/api/get/classes.php").then((function(e){return e.json()})).then((function(t){if(!t.length)throw"There are no classes!!";e.setClassList(t),fetch("/api/get/subjects.php?class="+t[0].class).then((function(e){return e.json()})).then((function(t){e.setState({subjectList:t,loading:!1})})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))},e.componentDidMount=function(){e.init()},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;"class"===n&&(e.setState({loading:!0}),fetch("/api/get/subjects.php?class="+l).then((function(e){return e.json()})).then((function(t){e.setState({subjectList:t,loading:!1})})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))),e.setState(Object(T.a)({},n,l))},e.handleSubmit=function(e){e.preventDefault()},e.deleteSelectedClass=function(){e.setState({loading:!0}),fetch("/api/delete/class.php?class="+e.state.class).then((function(e){return e.text()})).then((function(t){e.setState({loading:!1}),alert(t),e.init()})).catch((function(t){e.setState({loading:!1}),alert("Failed to Delete \n"+t)}))},e.deleteSubject=function(t){e.setState({loading:!0}),fetch("/api/delete/subject.php?id="+t).then((function(e){return e.text()})).then((function(t){alert(t),fetch("/api/get/subjects.php?class="+e.state.class).then((function(e){return e.json()})).then((function(t){e.setState({subjectList:t,loading:!1})})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))})).catch((function(t){e.setState({loading:!1}),alert("Failed to Delete \n"+t)}))},e.deleteAllSubject=function(){e.setState({loading:!0}),fetch("/api/delete/subject.php?class="+e.state.class).then((function(e){return e.text()})).then((function(t){alert(t),fetch("/api/get/subjects.php?class="+e.state.class).then((function(e){return e.json()})).then((function(t){e.setState({subjectList:t,loading:!1})})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))})).catch((function(t){e.setState({loading:!1}),alert("Failed to Delete \n"+t)}))},e.state={class:"",classList:[],subjectList:[],loading:!0},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=C(this.state.classList,(function(e){return l.a.createElement("option",{key:e.class}," ",e.class," ")})),a=C(this.state.subjectList,(function(t){return l.a.createElement("tr",{key:"subject:"+t.subject},l.a.createElement("td",null,t.subject),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){e.deleteSubject(t.id)},type:"button",className:"btn btn-danger"},"Delete Subject")))}));return l.a.createElement("div",{className:"container-fluid"},this.state.loading&&l.a.createElement(O,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 mx-auto my-5"},l.a.createElement("h4",{className:"display-4 text-center"},"Delete Subject "))),l.a.createElement("div",{className:"row"},l.a.createElement(B,{name:"Subject",perPage:"5",action:l.a.createElement("th",{className:"d-flex",scope:"col"},l.a.createElement("div",{className:"mr-3 mb-0"},l.a.createElement("span",null," Class  "),l.a.createElement("select",{className:"h-100 ml-3",name:"class",value:this.state.class,onChange:this.handleChange},t)),l.a.createElement("div",{className:"mb-0"},l.a.createElement("button",{onClick:this.deleteSelectedClass,className:"btn btn-danger"},"Delete Selected Class"))),lastRow:l.a.createElement("tr",null,l.a.createElement("td",null," All Subjects "),l.a.createElement("td",null,l.a.createElement("button",{onClick:this.deleteAllSubject,className:"btn btn-danger"},"Delete All Subjects")))},a))))}}]),a}(n.Component),Q=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 mx-auto my-5"},l.a.createElement("h4",{className:"display-4 text-center"},"Export Time Table "))),l.a.createElement("div",{className:"row"},l.a.createElement("table",{className:"table table-bordered table-striped table-hover"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Class "),l.a.createElement("th",{className:"d-flex",scope:"col"},"Action"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null," Class Wise "),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return window.location.href="//exportall_by_class.php"},className:"btn btn-primary"}," Export "))),l.a.createElement("tr",null,l.a.createElement("td",null," Teacher Wise "),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return window.location.href="//exportall_by_teacher.php"},className:"btn btn-primary"}," Export "))),l.a.createElement("tr",null,l.a.createElement("td",null," Room Wise "),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return window.location.href="//exportall_by_room.php"},className:"btn btn-primary"}," Export "))))))))}}]),a}(n.Component),Y=(a(46),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).componentDidMount=function(){fetch("/api/get/classes_with_table.php").then((function(e){return e.json()})).then((function(t){e.setState({classList:t}),fetch("/api/get/teachers.php").then((function(e){return e.json()})).then((function(t){e.setState({teacherList:t}),fetch("/api/get/rooms.php").then((function(e){return e.json()})).then((function(t){e.setState({roomList:t}),fetch("/api/get/departments.php").then((function(e){return e.json()})).then((function(t){e.setState({deptList:t,loading:!1})})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))})).catch((function(t){e.setState({loading:!1}),alert("Error : "+t)}))},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(T.a)({},n,l))},e.state={classList:[],teacherList:[],roomList:[],deptList:[],class:"",teacher:"",room:"",dept:"",loading:!0},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=C(this.state.deptList,(function(e){return l.a.createElement("option",{key:e.dept}," ",e.dept," ")})),a=C(this.state.teacherList,(function(e){return l.a.createElement("option",{key:e.name}," ",e.name," ")})),n=C(this.state.roomList,(function(e){return l.a.createElement("option",{key:e.room}," ",e.room," ")})),r=C(this.state.classList,(function(e){return l.a.createElement("option",{key:e.class}," ",e.class," ")}));return l.a.createElement("div",{className:"container-fluid"},this.state.loading&&l.a.createElement(O,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 mx-auto my-5"},l.a.createElement("h4",{className:"display-4 text-center"},"Export Time Table "))),l.a.createElement("div",{className:"row"},l.a.createElement("table",{className:"table table-bordered table-striped table-hover"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Class "),l.a.createElement("th",{className:"d-flex",scope:"col"},"Action"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null," Class Wise "),l.a.createElement("td",null,l.a.createElement("select",{name:"class",value:this.state.class,onChange:this.handleChange},l.a.createElement("option",null," Select "),r),l.a.createElement("button",{onClick:function(){return window.location.href="//exportone_by_class.php?item="+e.state.class},className:"btn btn-primary"}," Export "))),l.a.createElement("tr",null,l.a.createElement("td",null," Teacher Wise "),l.a.createElement("td",null,l.a.createElement("select",{name:"teacher",value:this.state.teacher,onChange:this.handleChange},l.a.createElement("option",null," Select "),a),l.a.createElement("button",{onClick:function(){return window.location.href="/exportone_by_teacher.php?item="+e.state.teacher},className:"btn btn-primary"}," Export "))),l.a.createElement("tr",null,l.a.createElement("td",null," Room Wise "),l.a.createElement("td",null,l.a.createElement("select",{name:"room",value:this.state.room,onChange:this.handleChange},l.a.createElement("option",null," Select "),n),l.a.createElement("button",{onClick:function(){return window.location.href="/exportone_by_room.php?item="+e.state.room},className:"btn btn-primary"}," Export "))),l.a.createElement("tr",null,l.a.createElement("td",null," Dept Wise "),l.a.createElement("td",null,l.a.createElement("select",{name:"dept",value:this.state.dept,onChange:this.handleChange},l.a.createElement("option",null," Select "),t),l.a.createElement("button",{onClick:function(){return window.location.href="/exportone_by_department.php?item="+e.state.dept},className:"btn btn-primary"}," Export "))))))))}}]),a}(n.Component)),K=a(30),X=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).init=function(){fetch("/api/get/classes.php").then((function(e){return e.json()})).then((function(t){e.setState({classList:t,newclass:t[0].class,loading:!1})}))},e.componentDidMount=function(){e.init()},e.ChangeHandler=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(T.a)({},n,l))},e.clickHandler=function(t){var a=t.target,n=a.name,l=a.value;switch(n){case"add":if(-1!==e.state.addList.indexOf(l))return;e.setState((function(e){var t=Object(K.a)(e.addList);return t.push(l),{addList:t}}));break;case"delete":e.setState((function(e){var t=[];return e.addList.forEach((function(e){e!=l&&t.push(e)})),{addList:t}}));break;case"export":if(0===e.state.addList.length)return;e.setState({loading:!0}),fetch("/api/export_custom.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.state.addList)}).then((function(e){return e.blob()})).then((function(t){e.setState({loading:!1});var a=document.createElement("a");a.href=URL.createObjectURL(t),a.setAttribute("download","export_custom.xlsx"),a.click()})).catch((function(t){alert("Error : "+t),e.setState({loading:!1})}))}},e.state={newclass:"",classList:[],addList:[],loading:!0},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=C(this.state.classList,(function(e){return l.a.createElement("option",{key:e.class}," ",e.class," ")})),a=C(this.state.addList,(function(t){return l.a.createElement("tr",{key:"add:"+t},l.a.createElement("td",null,t),l.a.createElement("td",null,l.a.createElement("button",{onClick:e.clickHandler,name:"delete",value:t,type:"button",className:"btn btn-danger"},"Delete")))}));return l.a.createElement("div",null,l.a.createElement("div",{className:"container-fluid"},this.state.loading&&l.a.createElement(O,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 mx-auto my-5"},l.a.createElement("h4",{className:"display-4 text-center"},"Export Custom "))),l.a.createElement("div",{className:"row"},l.a.createElement("table",{className:"table table-bordered table-striped table-hover"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Classes "),l.a.createElement("th",{className:"d-flex",scope:"col"},"Action"))),l.a.createElement("tbody",null,a,l.a.createElement("tr",null,l.a.createElement("td",null," Add New "),l.a.createElement("td",null,l.a.createElement("select",{name:"newclass",value:this.state.newclass,onChange:this.ChangeHandler},t),l.a.createElement("button",{onClick:this.clickHandler,name:"add",value:this.state.newclass,className:"btn btn-primary"}," Add "),l.a.createElement("button",{style:{marginLeft:"10px"},onClick:this.clickHandler,name:"export",className:"btn btn-primary"}," Export ")))))))))}}]),a}(n.Component),Z=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).init=function(){fetch("/api/get/labs.php").then((function(e){return e.json()})).then((function(t){e.setState({labList:t,loading:!1})}))},e.componentDidMount=function(){e.init()},e.ChangeHandler=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(T.a)({},n,l))},e.clickHandler=function(t){var a=t.target,n=a.name,l=a.value;switch(n){case"add":e.setState({loading:!0}),fetch("/api/set/newlab.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lab:l})}).then((function(e){return e.text()})).then((function(t){alert(t),e.init()})).catch((function(t){alert("Error in Connection : \n"+t),e.setState({loading:!1})}));break;case"edit":var r=t.target.getAttribute("lab"),c=prompt("Enter Lab Name",r);if(null===c)return;e.setState({loading:!0}),fetch("/api/update/lab.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:l,lab:c})}).then((function(e){return e.text()})).then((function(t){alert(t),e.init()})).catch((function(t){alert("Error in Connection : \n"+t),e.setState({loading:!1})}));break;case"delete":e.setState({loading:!0}),fetch("/api/delete/lab.php?id="+l).then((function(e){return e.text()})).then((function(t){alert(t),e.init()})).catch((function(t){alert("Error in Connection : \n"+t),e.setState({loading:!1})}))}},e.state={newlab:"",labList:[],loading:!0},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=C(this.state.labList,(function(t){return l.a.createElement("tr",{key:"lab:"+t.lab},l.a.createElement("td",null,t.lab),l.a.createElement("td",null,l.a.createElement("button",{style:{marginRight:"10px"},onClick:e.clickHandler,name:"edit",value:t.id,lab:t.lab,type:"button",className:"btn btn-primary"},"Edit Lab"),l.a.createElement("button",{onClick:e.clickHandler,name:"delete",value:t.id,type:"button",className:"btn btn-danger"},"Delete")))})),a=l.a.createElement("tr",null,l.a.createElement("td",null," Add New "),l.a.createElement("td",null,l.a.createElement("input",{style:{marginRight:"10px"},name:"newlab",value:this.state.newlab,onChange:this.ChangeHandler,type:"text"}),l.a.createElement("button",{onClick:this.clickHandler,name:"add",value:this.state.newlab,className:"btn btn-primary"}," Add ")));return l.a.createElement("div",null,this.state.loading&&l.a.createElement(O,null),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 mx-auto my-5"},l.a.createElement("h4",{className:"display-4 text-center"},"Lab Management "))),l.a.createElement("div",{className:"row"},l.a.createElement(B,{name:"Lab",perPage:"5",lastRow:a},t)))))}}]),a}(n.Component),ee=(a(47),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).changeHandler=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(T.a)({},n,l))},e.handleSubmit=function(t){t.preventDefault(),e.setState({loading:!0}),fetch("/api/update/password.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.state)}).then((function(e){return e.text()})).then((function(t){alert(t),e.setState({loading:!1})})).catch((function(t){alert("Error : "+t),e.setState({loading:!1})}))},e.state={oldpass:"",newpass1:"",newpass2:"",loading:!1},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){window.$(document).ready((function(){window.$(".pass_show").append('<span class="ptxt">Show</span>')})),window.$(document).on("click",".pass_show .ptxt",(function(){window.$(this).text("Show"==window.$(this).text()?"Hide":"Show"),window.$(this).prev().attr("type",(function(e,t){return"password"==t?"text":"password"}))}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},this.state.loading&&l.a.createElement(O,null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-4 mx-auto mt-5"},l.a.createElement("form",{onSubmit:this.handleSubmit,method:"post"},l.a.createElement("label",null,"Current Password"),l.a.createElement("div",{className:"form-group pass_show"},l.a.createElement("input",{onChange:this.changeHandler,value:this.state.oldpass,name:"oldpass",type:"password",className:"form-control",placeholder:"Current Password"})),l.a.createElement("label",null,"New Password"),l.a.createElement("div",{className:"form-group pass_show"},l.a.createElement("input",{onChange:this.changeHandler,value:this.state.newpass1,name:"newpass1",type:"password",className:"form-control",placeholder:"New Password"})),l.a.createElement("label",null,"Confirm Password"),l.a.createElement("div",{className:"form-group pass_show"},l.a.createElement("input",{onChange:this.changeHandler,value:this.state.newpass2,name:"newpass2",type:"password",className:"form-control",placeholder:"Confirm Password"})),l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"}," Update Password  ")))))}}]),a}(n.Component));function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ae(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var ne=l.a.createElement("style",{type:"text/css"},"\r\n.st01{fill:#fff;}\r\n"),le=l.a.createElement("path",{className:"st01",d:"m126 302.2c-2.3 0.7-5.7 0.2-7.7-1.2l-105-71.6c-2-1.3-3.7-4.4-3.9-6.7l-9.4-126.7c-0.2-2.4 1.1-5.6 2.8-7.2l93.2-86.4c1.7-1.6 5.1-2.6 7.4-2.3l125.6 18.9c2.3 0.4 5.2 2.3 6.4 4.4l63.5 110.1c1.2 2 1.4 5.5 0.6 7.7l-46.4 118.3c-0.9 2.2-3.4 4.6-5.7 5.3l-121.4 37.4zm63.4-102.7c2.3-0.7 4.8-3.1 5.7-5.3l19.9-50.8c0.9-2.2 0.6-5.7-0.6-7.7l-27.3-47.3c-1.2-2-4.1-4-6.4-4.4l-53.9-8c-2.3-0.4-5.7 0.7-7.4 2.3l-40 37.1c-1.7 1.6-3 4.9-2.8 7.2l4.1 54.4c0.2 2.4 1.9 5.4 3.9 6.7l45.1 30.8c2 1.3 5.4 1.9 7.7 1.2l52-16.2z"}),re=function(e){var t=e.svgRef,a=e.title,n=ae(e,["svgRef","title"]);return l.a.createElement("svg",te({enableBackground:"new 0 0 300 302.5",viewBox:"0 0 300 302.5",xmlSpace:"preserve",ref:t},n),a?l.a.createElement("title",null,a):null,ne,le)},ce=l.a.forwardRef((function(e,t){return l.a.createElement(re,te({svgRef:t},e))}));a.p;function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ie(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var oe=l.a.createElement("style",{type:"text/css"},"\r\n    .st0{fill:none;}\r\n"),ue=l.a.createElement("g",{transform:"translate(0 -952.36)"},l.a.createElement("path",{d:"m17.5 977c-1.3 0-2.4 1.1-2.4 2.4v45.9c0 1.3 1.1 2.4 2.4 2.4h64.9c1.3 0 2.4-1.1 2.4-2.4v-45.9c0-1.3-1.1-2.4-2.4-2.4h-64.9zm2.4 4.8h60.2v1.2l-30.1 22-30.1-22v-1.2zm0 7l28.7 21c0.8 0.6 2 0.6 2.8 0l28.7-21v34.1h-60.2v-34.1z"})),me=l.a.createElement("rect",{className:"st0",width:100,height:100}),de=function(e){var t=e.svgRef,a=e.title,n=ie(e,["svgRef","title"]);return l.a.createElement("svg",se({enableBackground:"new 0 0 100 100",viewBox:"0 0 100 100",xmlSpace:"preserve",ref:t},n),a?l.a.createElement("title",null,a):null,oe,ue,me)},he=l.a.forwardRef((function(e,t){return l.a.createElement(de,se({svgRef:t},e))}));a.p;function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function fe(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var be=l.a.createElement("style",{type:"text/css"},"\r\n        .st0{fill:none;}\r\n        .st1{fill:#010101;}\r\n    "),Ee=l.a.createElement("rect",{className:"st0",width:24,height:24}),ge=l.a.createElement("path",{className:"st1",d:"M19,21H5V9h14V21z M6,20h12V10H6V20z"}),ve=l.a.createElement("path",{className:"st1",d:"M16.5,10h-1V7c0-1.9-1.6-3.5-3.5-3.5S8.5,5.1,8.5,7v3h-1V7c0-2.5,2-4.5,4.5-4.5s4.5,2,4.5,4.5V10z"}),ye=l.a.createElement("path",{className:"st1",d:"m12 16.5c-0.8 0-1.5-0.7-1.5-1.5s0.7-1.5 1.5-1.5 1.5 0.7 1.5 1.5-0.7 1.5-1.5 1.5zm0-2c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5 0.5-0.2 0.5-0.5-0.2-0.5-0.5-0.5z"}),je=function(e){var t=e.svgRef,a=e.title,n=fe(e,["svgRef","title"]);return l.a.createElement("svg",pe({enableBackground:"new 0 0 24 24",viewBox:"0 0 24 24",xmlSpace:"preserve",ref:t},n),a?l.a.createElement("title",null,a):null,be,Ee,ge,ve,ye)},Se=l.a.forwardRef((function(e,t){return l.a.createElement(je,pe({svgRef:t},e))})),Ne=(a.p,a(48),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(T.a)({},n,l))},e.checkAuth=function(){fetch("/api/authstatus.php",{credentials:"same-origin"}).then((function(e){return e.text()})).then((function(t){"true"===t?e.props.setLogin({login:!0}):e.props.setLogin({login:!1})}))},e.handleSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a={uname:e.state.uname,password:e.state.password};fetch("/api/login.php",{method:"post",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(t){alert(t),e.checkAuth(),e.setState({loading:!1})})).catch((function(t){alert("Error : "+t),e.setState({loading:!1})}))},e.componentDidMount=function(){e.checkAuth()},e.state={uname:"",password:"",loading:!1},e}return Object(d.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"form_login",id:"login_form"},this.state.loading&&l.a.createElement(O,null),l.a.createElement("div",{className:"session"},l.a.createElement("div",{className:"left"},l.a.createElement(ce,null)),l.a.createElement("form",{onSubmit:this.handleSubmit,method:"POST",action:"",className:"log-in",autoComplete:"off"},l.a.createElement("h4",null,"Admin Panel ",l.a.createElement("span",null," SPN College ")),l.a.createElement("p",null,"Welcome back! Log in to your account to view dashboard:"),l.a.createElement("div",{className:"floating-label"},l.a.createElement("input",{value:this.state.uname,onChange:this.handleChange,placeholder:"Username",type:"text",name:"uname",id:"uname",autoComplete:"off"}),l.a.createElement("label",{htmlFor:"uname"},"Username:"),l.a.createElement("div",{className:"icon"},l.a.createElement(he,null))),l.a.createElement("div",{className:"floating-label"},l.a.createElement("input",{value:this.state.password,onChange:this.handleChange,placeholder:"Password",type:"password",name:"password",id:"password",autoComplete:"off"}),l.a.createElement("label",{htmlFor:"password"},"Password:"),l.a.createElement("div",{className:"icon"},l.a.createElement(Se,null))),l.a.createElement("button",{type:"submit"},"Log in"),l.a.createElement("a",{href:"#",className:"discrete",target:"_blank"}))))}}]),a}(n.Component)),Ce=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).checkAuth=function(){fetch("/api/authstatus.php",{credentials:"same-origin"}).then((function(e){return e.text()})).then((function(t){"true"===t?e.props.setLogin({login:!0}):(e.props.setLogin({login:!1}),e.props.history.push("/"))}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/logout.php",{credentials:"same-origin"}).then((function(e){return e.text()})).then((function(t){alert(t),e.checkAuth()}))}},{key:"render",value:function(){return l.a.createElement("div",null)}}]),a}(n.Component),Oe=Object(S.f)(Ce),we=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/authstatus.php",{credentials:"same-origin"});case 2:return t=e.sent,e.next=5,t.text();case 5:return a=e.sent,e.abrupt("return","true"===a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var ke=function(){var e=Object(n.useState)({login:!0}),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(s.a)(c,2),m=i[0],d=i[1];return Object(n.useEffect)((function(){Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:t=e.sent,r({login:t}),d(!1);case 5:case"end":return e.stop()}}),e)})))()}),[]),l.a.createElement("div",null,m&&l.a.createElement(O,{white:"true"}),a.login?null:l.a.createElement(S.a,{path:"/"}," ",l.a.createElement(Ne,{setLogin:r})," "),a.login?l.a.createElement(y,null,l.a.createElement(j,null),l.a.createElement(S.c,null,l.a.createElement(S.a,{exact:!0,path:"/",component:L}),l.a.createElement(S.a,{exact:!0,path:"/addtable",component:F}),l.a.createElement(S.a,{exact:!0,path:"/edittable",component:H}),l.a.createElement(S.a,{exact:!0,path:"/deletetable",component:R}),l.a.createElement(S.a,{exact:!0,path:"/addteacher",component:U}),l.a.createElement(S.a,{exact:!0,path:"/editteacher",component:W}),l.a.createElement(S.a,{exact:!0,path:"/updateteacher/:id",component:J}),l.a.createElement(S.a,{exact:!0,path:"/deleteteacher",component:V}),l.a.createElement(S.a,{exact:!0,path:"/addsubject",component:q}),l.a.createElement(S.a,{exact:!0,path:"/editsubject",component:z}),l.a.createElement(S.a,{exact:!0,path:"/updatesubject/:id",component:$}),l.a.createElement(S.a,{exact:!0,path:"/deletesubject",component:G}),l.a.createElement(S.a,{exact:!0,path:"/exportall",component:Q}),l.a.createElement(S.a,{exact:!0,path:"/exportone",component:Y}),l.a.createElement(S.a,{exact:!0,path:"/exportcustom",component:X}),l.a.createElement(S.a,{exact:!0,path:"/labmanagement",component:Z}),l.a.createElement(S.a,{exact:!0,path:"/Changepass",component:ee}),l.a.createElement(S.a,{exact:!0,path:"/logout"}," ",l.a.createElement(Oe,{setLogin:r})," "))):null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(f.a,null,l.a.createElement(ke,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.62c2912a.chunk.js.map